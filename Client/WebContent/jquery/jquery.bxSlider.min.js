(function(d){d.fn.bxSlider=function(a){function J(a,b,c,e){var h=[],f=c,g=!1;"backward"==e&&(a=d.makeArray(a),a.reverse());for(;0<f;)d.each(a,function(a){if(f>0)if(g){h.push(d(this).clone());f--}else{if(a==b){g=true;h.push(d(this).clone());f--}}else return false});return h}function u(a,b){if("left"==b)var c=d(".pager",f).eq(a).position().left;else"top"==b&&(c=d(".pager",f).eq(a).position().top);return c}function A(){!a.infiniteLoop&&a.hideControlOnEnd&&(b==B?d(".bx-prev",f).hide():d(".bx-prev",f).show(),b==q?d(".bx-next",f).hide():d(".bx-next",f).show())}function N(b,c,e,g){i=d('<a href="" class="bx-start"></a>');C="text"==b?c:'<img src="'+c+'" />';D="text"==e?g:'<img src="'+g+'" />';a.autoControlsSelector?d(a.autoControlsSelector).append(i):(f.append('<div class="bx-auto"></div>'),d(".bx-auto",f).html(i));i.click(function(){a.ticker?d(this).hasClass("stop")?h.stopTicker():d(this).hasClass("start")&&h.startTicker():d(this).hasClass("stop")?h.stopShow(true):d(this).hasClass("start")&&h.startShow(true);return false})}function E(){var k=d("img",c.eq(b)).attr("title");""!=k?a.captionsSelector?d(a.captionsSelector).html(k):d(".bx-captions",f).html(k):a.captionsSelector?d(a.captionsSelector).html("\u00a0"):d(".bx-captions",f).html("\u00a0")}function K(b){var e=c.length;1<a.moveSlideQty&&(e=0!=c.length%a.moveSlideQty?Math.ceil(c.length/a.moveSlideQty):c.length/a.moveSlideQty);var g="";if(a.buildPager)for(b=0;b<e;b++)g+=a.buildPager(b,c.eq(b*a.moveSlideQty));else if("full"==b)for(b=1;b<=e;b++)g+='<a href="" class="pager-link pager-'+b+'">'+b+"</a>";else"short"==b&&(g='<span class="bx-pager-current">'+(a.startingSlide+1)+"</span> "+a.pagerShortSeparator+' <span class="bx-pager-total">'+c.length+"</span>");a.pagerSelector?(d(a.pagerSelector).append(g),o=d(a.pagerSelector)):(e=d('<div class="bx-pager"></div>'),e.append(g),"top"==a.pagerLocation?f.prepend(e):"bottom"==a.pagerLocation&&f.append(e),o=d(".bx-pager",f));o.children().click(function(){if(a.pagerType=="full"){var b=o.children().index(this);a.moveSlideQty>1&&(b=b*a.moveSlideQty);h.goToSlide(b)}return false})}function O(b,c,e,g){var i=d('<a href="" class="bx-next"></a>'),j=d('<a href="" class="bx-prev"></a>');"text"==b?i.html(c):i.html('<img src="'+c+'" />');"text"==e?j.html(g):j.html('<img src="'+g+'" />');a.prevSelector?d(a.prevSelector).append(j):f.append(j);a.nextSelector?d(a.nextSelector).append(i):f.append(i);i.click(function(){h.goToNextSlide();return!1});j.click(function(){h.goToPreviousSlide();return!1})}function r(c){"full"==a.pagerType&&a.pager?(d("a",o).removeClass(a.pagerActiveClass),d("a",o).eq(c).addClass(a.pagerActiveClass)):"short"==a.pagerType&&a.pager&&d(".bx-pager-current",o).html(b+1)}function H(){c.not(":eq("+b+")").fadeTo(a.speed,0).css("zIndex",98);c.eq(b).css("zIndex",99).fadeTo(a.speed,1,function(){g=!1;jQuery.browser.msie&&c.eq(b).get(0).style.removeAttribute("filter");a.onAfterSlide(b,c.length,c.eq(b))})}function P(){e.hover(function(){j&&h.stopTicker(!1)},function(){j&&h.startTicker(!1)})}function Q(){f.find(".bx-window").hover(function(){j&&h.stopShow(!1)},function(){j&&h.startShow(!1)})}function p(b,c,d){"horizontal"==a.mode?"next"==a.tickerDirection?e.animate({left:"-="+c+"px"},d,"linear",function(){e.css("left",b);p(b,l,a.tickerSpeed)}):"prev"==a.tickerDirection&&e.animate({left:"+="+c+"px"},d,"linear",function(){e.css("left",b);p(b,l,a.tickerSpeed)}):"vertical"==a.mode&&("next"==a.tickerDirection?e.animate({top:"-="+c+"px"},d,"linear",function(){e.css("top",b);p(b,m,a.tickerSpeed)}):"prev"==a.tickerDirection&&e.animate({top:"+="+c+"px"},d,"linear",function(){e.css("top",b);p(b,m,a.tickerSpeed)}))}function R(){a.auto?a.infiniteLoop?"next"==a.autoDirection?s=setInterval(function(){h.goToNextSlide(!1)},a.pause):"prev"==a.autoDirection&&(s=setInterval(function(){h.goToPreviousSlide(!1)},a.pause)):"next"==a.autoDirection?s=setInterval(function(){b+=a.moveSlideQty;b>q&&(b%=c.length);h.goToSlide(b,!1)},a.pause):"prev"==a.autoDirection&&(s=setInterval(function(){b-=a.moveSlideQty;0>b&&(negativeOffset=b%c.length,b=0==negativeOffset?0:c.length+negativeOffset);h.goToSlide(b,!1)},a.pause)):a.ticker&&(a.tickerSpeed*=10,d(".pager",f).each(function(){l+=d(this).width();m+=d(this).height()}),"prev"==a.tickerDirection&&"horizontal"==a.mode?e.css("left","-"+(l+v)+"px"):"prev"==a.tickerDirection&&"vertical"==a.mode&&e.css("top","-"+(m+w)+"px"),"horizontal"==a.mode?(F=parseInt(e.css("left")),p(F,l,a.tickerSpeed)):"vertical"==a.mode&&(G=parseInt(e.css("top")),p(G,m,a.tickerSpeed)),a.tickerHover&&P())}function S(){if("horizontal"==a.mode||"vertical"==a.mode){var b=J(c,0,a.moveSlideQty,"backward");d.each(b,function(){e.prepend(d(this))});b=J(c,0,c.length+a.moveSlideQty-1-(c.length-a.displaySlideQty),"forward");a.infiniteLoop&&d.each(b,function(){e.append(d(this))})}}var a=d.extend({mode:"horizontal",infiniteLoop:!0,hideControlOnEnd:!1,controls:!0,speed:500,easing:"swing",pager:!1,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:!1,captionsSelector:null,auto:!1,autoDirection:"next",autoControls:!1,autoControlsSelector:null,autoStart:!0,autoHover:!1,autoDelay:0,pause:3E3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:!1,tickerSpeed:5E3,tickerDirection:"next",tickerHover:!1,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:!1,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null},a),h=this,e="",c="",f="",x="",L="",y="",I="",M="",o="",s="",i="",C="",D="",j=!0,t=0,n=0,b=0,v=0,w=0,l=0,m=0,F=0,G=0,g=!1,B=0,q=c.length-1;this.goToSlide=function(d,f){if(!g){g=!0;b=d;a.onBeforeSlide(b,c.length,c.eq(b));"undefined"==typeof f&&(f=!0);f&&a.auto&&h.stopShow(!0);slide=d;if(slide==B)a.onFirstSlide(b,c.length,c.eq(b));if(slide==q)a.onLastSlide(b,c.length,c.eq(b));"horizontal"==a.mode?e.animate({left:"-"+u(slide,"left")+"px"},a.speed,a.easing,function(){g=!1;a.onAfterSlide(b,c.length,c.eq(b))}):"vertical"==a.mode?e.animate({top:"-"+u(slide,"top")+"px"},a.speed,a.easing,function(){g=!1;a.onAfterSlide(b,c.length,c.eq(b))}):"fade"==a.mode&&H();A();1<a.moveSlideQty&&(d=Math.floor(d/a.moveSlideQty));r(d);E()}};this.goToNextSlide=function(d){"undefined"==typeof d&&(d=!0);d&&a.auto&&h.stopShow(!0);if(a.infiniteLoop)g||(g=!0,f=!1,b+=a.moveSlideQty,b>q&&(b%=c.length,f=!0),a.onNextSlide(b,c.length,c.eq(b)),a.onBeforeSlide(b,c.length,c.eq(b)),"horizontal"==a.mode?e.animate({left:"-="+a.moveSlideQty*y+"px"},a.speed,a.easing,function(){g=false;f&&e.css("left","-"+u(b,"left")+"px");a.onAfterSlide(b,c.length,c.eq(b))}):"vertical"==a.mode?e.animate({top:"-="+a.moveSlideQty*n+"px"},a.speed,a.easing,function(){g=false;f&&e.css("top","-"+u(b,"top")+"px");a.onAfterSlide(b,c.length,c.eq(b))}):"fade"==a.mode&&H(),1<a.moveSlideQty?r(Math.ceil(b/a.moveSlideQty)):r(b),E());else if(!g){var f=!1;b+=a.moveSlideQty;b<=q?(A(),a.onNextSlide(b,c.length,c.eq(b)),h.goToSlide(b)):b-=a.moveSlideQty}};this.goToPreviousSlide=function(k){"undefined"==typeof k&&(k=!0);k&&a.auto&&h.stopShow(!0);if(a.infiniteLoop)g||(g=!0,z=!1,b-=a.moveSlideQty,0>b&&(negativeOffset=b%c.length,b=0==negativeOffset?0:c.length+negativeOffset,z=!0),a.onPrevSlide(b,c.length,c.eq(b)),a.onBeforeSlide(b,c.length,c.eq(b)),"horizontal"==a.mode?e.animate({left:"+="+a.moveSlideQty*y+"px"},a.speed,a.easing,function(){g=false;z&&e.css("left","-"+u(b,"left")+"px");a.onAfterSlide(b,c.length,c.eq(b))}):"vertical"==a.mode?e.animate({top:"+="+a.moveSlideQty*n+"px"},a.speed,a.easing,function(){g=false;z&&e.css("top","-"+u(b,"top")+"px");a.onAfterSlide(b,c.length,c.eq(b))}):"fade"==a.mode&&H(),1<a.moveSlideQty?r(Math.ceil(b/a.moveSlideQty)):r(b),E());else if(!g){var z=!1;b-=a.moveSlideQty;0>b&&(b=0,a.hideControlOnEnd&&d(".bx-prev",f).hide());A();a.onPrevSlide(b,c.length,c.eq(b));h.goToSlide(b)}};this.goToFirstSlide=function(a){"undefined"==typeof a&&(a=!0);h.goToSlide(B,a)};this.goToLastSlide=function(){if("undefined"==typeof a)var a=!0;h.goToSlide(q,a)};this.getCurrentSlide=function(){return b};this.getSlideCount=function(){return c.length};this.stopShow=function(b){clearInterval(s);"undefined"==typeof b&&(b=!0);b&&a.autoControls&&(i.html(C).removeClass("stop").addClass("start"),j=!1)};this.startShow=function(b){"undefined"==typeof b&&(b=!0);R();b&&a.autoControls&&(i.html(D).removeClass("start").addClass("stop"),j=!0)};this.stopTicker=function(b){e.stop();"undefined"==typeof b&&(b=!0);b&&a.ticker&&(i.html(C).removeClass("stop").addClass("start"),j=!1)};this.startTicker=function(b){if("horizontal"==a.mode){if("next"==a.tickerDirection)var b=parseInt(e.css("left")),d=l+b+c.eq(0).width();else"prev"==a.tickerDirection&&(b=-parseInt(e.css("left")),d=b-c.eq(0).width());var f=d*a.tickerSpeed/l;p(F,d,f)}else if("vertical"==a.mode&&("next"==a.tickerDirection?(d=parseInt(e.css("top")),d=m+d+c.eq(0).height()):"prev"==a.tickerDirection&&(d=-parseInt(e.css("top")),d-=c.eq(0).height()),f=d*a.tickerSpeed/m,p(G,d,f),"undefined"==typeof b&&(b=!0),b&&a.ticker))i.html(D).removeClass("start").addClass("stop"),j=!0};this.initShow=function(){e=d(this);e.clone();c=e.children();f="";x=e.children(":first");L=x.width();t=0;y=x.outerWidth();n=0;I=x.outerWidth()*a.displaySlideQty;M=x.outerHeight()*a.displaySlideQty;g=!1;o="";w=v=b=0;D=C=i=s="";j=!0;B=G=F=m=l=0;q=c.length-1;c.each(function(){d(this).outerHeight()>n&&(n=d(this).outerHeight());d(this).outerWidth()>t&&(t=d(this).outerWidth())});if(a.randomStart){var k=Math.floor(Math.random()*c.length);b=k;v=y*(a.moveSlideQty+k);w=n*(a.moveSlideQty+k)}else b=a.startingSlide,v=y*(a.moveSlideQty+a.startingSlide),w=n*(a.moveSlideQty+a.startingSlide);S(a.startingSlide);"horizontal"==a.mode?(e.wrap('<div class="'+a.wrapperClass+'" style="width:'+I+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+I+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+v+"px"}),e.children().css({width:L,"float":"left",listStyle:"none"}),f=e.parent().parent(),c.addClass("pager")):"vertical"==a.mode?(e.wrap('<div class="'+a.wrapperClass+'" style="width:'+t+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+t+"px; height:"+M+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+w+"px"}),e.children().css({listStyle:"none",height:n}),f=e.parent().parent(),c.addClass("pager")):"fade"==a.mode&&(e.wrap('<div class="'+a.wrapperClass+'" style="width:'+t+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+n+"px; width:"+t+'px; position:relative; overflow:hidden;"></div>'),e.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98}),f=e.parent().parent(),c.not(":eq("+b+")").fadeTo(0,0),c.eq(b).css("zIndex",99));a.captions&&null==a.captionsSelector&&f.append('<div class="bx-captions"></div>');a.pager&&!a.ticker&&("full"==a.pagerType?K("full"):"short"==a.pagerType&&K("short"));a.controls&&!a.ticker&&(""!=a.nextImage?(nextContent=a.nextImage,nextType="image"):(nextContent=a.nextText,nextType="text"),""!=a.prevImage?(prevContent=a.prevImage,prevType="image"):(prevContent=a.prevText,prevType="text"),O(nextType,nextContent,prevType,prevContent));if(a.auto||a.ticker)a.autoControls&&(""!=a.startImage?(startContent=a.startImage,startType="image"):(startContent=a.startText,startType="text"),""!=a.stopImage?(stopContent=a.stopImage,stopType="image"):(stopContent=a.stopText,stopType="text"),N(startType,startContent,stopType,stopContent)),a.autoStart?setTimeout(function(){h.startShow(true)},a.autoDelay):h.stopShow(!0),a.autoHover&&!a.ticker&&Q();1<a.moveSlideQty?r(Math.ceil(b/a.moveSlideQty)):r(b);A();a.captions&&E();a.onAfterSlide(b,c.length,c.eq(b))};this.destroyShow=function(){clearInterval(s);d(".bx-next, .bx-prev, .bx-pager, .bx-auto",f).remove();e.unwrap().unwrap().removeAttr("style");e.children().removeAttr("style").not(".pager").remove();c.removeClass("pager")};this.reloadShow=function(){h.destroyShow();h.initShow()};this.each(function(){0<d(this).children().length&&h.initShow()});return this};jQuery.fx.prototype.cur=function(){return null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop])?this.elem[this.prop]:parseFloat(jQuery.css(this.elem,this.prop))}})(jQuery);